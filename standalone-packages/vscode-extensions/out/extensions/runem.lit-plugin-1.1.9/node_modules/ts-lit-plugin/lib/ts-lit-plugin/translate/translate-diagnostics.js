"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var translate_range_1 = require("./translate-range");
function translateDiagnostics(reports, file, context) {
    return reports.map(function (report) { return translateDiagnostic(report, file, context); });
}
exports.translateDiagnostics = translateDiagnostics;
function translateDiagnostic(report, file, context) {
    var span = translate_range_1.translateRange(report.location);
    var category = report.severity === "error" ? context.ts.DiagnosticCategory.Error : context.ts.DiagnosticCategory.Warning;
    var code = 2322;
    var messageText = !context.config.dontShowSuggestions && report.suggestion
        ? {
            messageText: "" + report.message + (report.fix == null ? "" : " " + report.fix),
            code: code,
            category: category,
            next: {
                messageText: report.suggestion,
                code: 0,
                category: context.ts.DiagnosticCategory.Suggestion
            }
        }
        : report.message;
    return __assign({}, span, { file: file,
        messageText: messageText,
        category: category,
        code: code, source: report.source == null ? undefined : report.source });
}
